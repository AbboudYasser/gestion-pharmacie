# ูุธุงู ุฅุฏุงุฑุฉ ุงูุตูุฏููุฉ - ูุญุฏุซ ูุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุตูุฏููุฉ ุงููุณุชุดูู ูุชุถูู ุฅุฏุงุฑุฉ ุงููุฎุฒููุ ุงููุฑุถูุ ุงูููุฑุฏููุ ูุงูุชูุงุฑูุฑ. ุชู ุชุญุฏูุซ ุงููุธุงู ููุชูุงูู ูุน ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฒุงุฆุฑูุฉ ุงูุฌุฏูุฏุฉ.

## ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ

### ๐ ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ
- **ุชุญุฏูุซ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชูุงูู ูุงูู ูุน ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- **ุชุญุณูู Supabase Edge Functions**: ุฅุตูุงุญ ุงูุฃุฎุทุงุก ูุชุญุณูู ุงูุฃูุงู
- **ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุฏุซุฉ**: ุชุตููู ุญุฏูุซ ููุชุฌุงูุจ
- **ูุธุงู API ููุญุฏ**: ููู api.js ุดุงูู ูุฌููุน ุงูุนูููุงุช
- **ุจูุงูุงุช ุชุฌุฑูุจูุฉ**: ูุธุงู fallback ููุงุฎุชุจุงุฑ ุจุฏูู ูุงุนุฏุฉ ุจูุงูุงุช

### ๐ ุงูุฌุฏุงูู ุงููุฏุนููุฉ
```sql
-- ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ
- produit (ุงูููุชุฌุงุช/ุงูุฃุฏููุฉ)
- fournisseur (ุงูููุฑุฏูู)
- patients (ุงููุฑุถู)
- service (ุงูุฎุฏูุงุช)
- magasin (ุงููุฎุงุฒู)
- users (ุงููุณุชุฎุฏููู)

-- ุฌุฏุงูู ุงูุทูุจุงุช ูุงูุชุณููู
- bon_cmde_four (ุฃูุงูุฑ ุงูุดุฑุงุก ูู ุงูููุฑุฏูู)
- bon_liv_four (ุฅูุตุงูุงุช ุงูุชุณููู ูู ุงูููุฑุฏูู)
- bon_cmde_serv (ุฃูุงูุฑ ุงูุทูุจ ููุฎุฏูุงุช)
- bon_liv_serv (ุฅูุตุงูุงุช ุงูุชุณููู ููุฎุฏูุงุช)

-- ุฌุฏุงูู ุงูุชูุงุตูู
- det_bon_cmde_four (ุชูุงุตูู ุฃูุงูุฑ ุงูุดุฑุงุก)
- det_bon_liv_four (ุชูุงุตูู ุฅูุตุงูุงุช ุงูุชุณููู)
- det_bon_cmde_serv (ุชูุงุตูู ุทูุจุงุช ุงูุฎุฏูุงุช)
- det_bon_liv_serv (ุชูุงุตูู ุชุณููู ุงูุฎุฏูุงุช)
```

## ุจููุฉ ุงููุดุฑูุน

```
gestion-pharmacie/
โโโ frontend/                    # ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
โ   โโโ css/                    # ูููุงุช ุงูุชูุณูู
โ   โโโ js/                     # ูููุงุช JavaScript
โ   โ   โโโ config.js          # ุฅุนุฏุงุฏุงุช Supabase
โ   โ   โโโ api.js             # API ููุญุฏ (ุฌุฏูุฏ)
โ   โ   โโโ stock.js           # ุฅุฏุงุฑุฉ ุงููุฎุฒูู (ูุญุฏุซ)
โ   โ   โโโ patients.js        # ุฅุฏุงุฑุฉ ุงููุฑุถู (ูุญุฏุซ)
โ   โ   โโโ fournisseurs.js    # ุฅุฏุงุฑุฉ ุงูููุฑุฏูู (ูุญุฏุซ)
โ   โ   โโโ dashboard.js       # ููุญุฉ ุงูุชุญูู
โ   โ   โโโ login.js           # ุชุณุฌูู ุงูุฏุฎูู
โ   โ   โโโ utils.js           # ุฏูุงู ูุณุงุนุฏุฉ
โ   โโโ login.html             # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ dashboard.html         # ููุญุฉ ุงูุชุญูู
โ   โโโ stock.html             # ุฅุฏุงุฑุฉ ุงููุฎุฒูู (ูุญุฏุซ)
โ   โโโ patients.html          # ุฅุฏุงุฑุฉ ุงููุฑุถู (ูุญุฏุซ)
โ   โโโ fournisseurs.html      # ุฅุฏุงุฑุฉ ุงูููุฑุฏูู (ูุญุฏุซ)
โโโ supabase/                   # Supabase Edge Functions
โ   โโโ functions/
โ       โโโ _shared/           # ูููุงุช ูุดุชุฑูุฉ (ุฌุฏูุฏ)
โ       โ   โโโ cors.ts        # ุฅุนุฏุงุฏุงุช CORS
โ       โ   โโโ utils.ts       # ุฏูุงู ูุณุงุนุฏุฉ ูุดุชุฑูุฉ
โ       โโโ login-user/        # ุชุณุฌูู ุงูุฏุฎูู (ูุญุฏุซ)
โ       โโโ set-password/      # ุชุนููู ูููุฉ ุงููุฑูุฑ (ูุญุฏุซ)
โ       โโโ api-handler/       # ูุนุงูุฌ API ุงูุฑุฆูุณู (ูุญุฏุซ)
โ       โโโ api/               # API ุนุงู (ูุญุฏุซ)
โโโ database_schema.sql        # ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฌุฏูุฏ)
โโโ test_platform.html         # ุตูุญุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ (ุฌุฏูุฏ)
โโโ README_UPDATED.md          # ูุฐุง ุงูููู
```

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุฅุนุฏุงุฏ Supabase

```bash
# ุชุซุจูุช Supabase CLI
npm install -g @supabase/cli

# ุชุณุฌูู ุงูุฏุฎูู
supabase login

# ุฑุจุท ุงููุดุฑูุน
supabase link --project-ref YOUR_PROJECT_ID
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ุชุดุบูู ููู ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
-- ูู Supabase Dashboard > SQL Editor
-- ูุณุฎ ููุตู ูุญุชูู database_schema.sql
```

### 3. ูุดุฑ Edge Functions

```bash
# ูุดุฑ ุฌููุน ุงููุธุงุฆู
supabase functions deploy login-user
supabase functions deploy set-password
supabase functions deploy api-handler
supabase functions deploy api

# ุฃู ูุดุฑ ุฌููุน ุงููุธุงุฆู ูุฑุฉ ูุงุญุฏุฉ
supabase functions deploy
```

### 4. ุฅุนุฏุงุฏ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

```javascript
// ุชุญุฏูุซ frontend/js/config.js
const SUPABASE_CONFIG = {
    url: 'YOUR_SUPABASE_URL',
    anonKey: 'YOUR_SUPABASE_ANON_KEY'
};
```

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ง ูุธุงู API ููุญุฏ
- ููู `api.js` ุดุงูู ูุฌููุน ุงูุนูููุงุช
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ
- ูุธุงู ุฅุดุนุงุฑุงุช ููุญุฏ
- ุฏุนู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ๐ฑ ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ุชุตููู ูุชุฌุงูุจ ูุน Bootstrap 5
- ุฃููููุงุช Font Awesome
- ุฎุทูุท Cairo ุงูุนุฑุจูุฉ
- ุงูุชูุงูุงุช ุณูุณุฉ ูุชุฃุซูุฑุงุช ุจุตุฑูุฉ

### ๐ ุฃูุงู ูุญุณู
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ูุน bcrypt
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุญูุงูุฉ ูู SQL Injection
- ุฅุฏุงุฑุฉ ุฌูุณุงุช ุขููุฉ

### ๐ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช
- ุฏุนู ูุงูู ููุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- ููุชุฑุฉ ูุจุญุซ ูุชูุฏู
- ุชุตุฏูุฑ ุงูุจูุงูุงุช CSV
- ุชุฑููู ุงูุตูุญุงุช

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุณุฑูุน
```bash
# ูุชุญ ุตูุญุฉ ุงูุงุฎุชุจุงุฑ ูู ุงููุชุตูุญ
open test_platform.html
```

### ุงุฎุชุจุงุฑ ูุฏูู
1. **ุชุณุฌูู ุงูุฏุฎูู**: `login.html`
2. **ููุญุฉ ุงูุชุญูู**: `dashboard.html`
3. **ุฅุฏุงุฑุฉ ุงููุฎุฒูู**: `stock.html`
4. **ุฅุฏุงุฑุฉ ุงููุฑุถู**: `patients.html`
5. **ุฅุฏุงุฑุฉ ุงูููุฑุฏูู**: `fournisseurs.html`

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

#### 1. ุฎุทุฃ ูู ุงูุงุชุตุงู ุจู Supabase
```javascript
// ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช config.js
console.log('Supabase URL:', SUPABASE_CONFIG.url);
console.log('Anon Key:', SUPABASE_CONFIG.anonKey);
```

#### 2. Edge Functions ูุง ุชุนูู
```bash
# ุงูุชุญูู ูู ุญุงูุฉ ุงููุธุงุฆู
supabase functions list

# ุนุฑุถ ุณุฌูุงุช ุงูุฃุฎุทุงุก
supabase functions logs login-user
```

#### 3. ูุดุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุงูุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public';
```

### ูุถุน ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
ุฅุฐุง ูู ุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชููุฑุฉุ ุณูุนูู ุงููุธุงู ุจุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ:
- ููุชุฌุงุช ููููุฉ ูู ุงููุฎุฒูู
- ูุฑุถู ุชุฌุฑูุจููู
- ููุฑุฏูู ุงูุชุฑุงุถููู
- ุฅุญุตุงุฆูุงุช ูุญุงูุงุฉ

## ุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

#### 1. ุฅุถุงูุฉ ุตูุญุฉ ุฌุฏูุฏุฉ
```html
<!-- ุฅูุดุงุก ููู HTML ุฌุฏูุฏ -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<!-- ุงุณุชุฎุฏุงู ููุณ ุจููุฉ ุงูุตูุญุงุช ุงูููุฌูุฏุฉ -->
```

#### 2. ุฅุถุงูุฉ ูุธููุฉ Edge Function ุฌุฏูุฏุฉ
```typescript
// supabase/functions/new-function/index.ts
import { serve } from "https://deno.land/std@0.168.0/http/server.ts"
import { corsHeaders } from "../_shared/cors.ts"

serve(async (req) => {
  // ููุทู ุงููุธููุฉ ููุง
})
```

#### 3. ุชุญุฏูุซ API
```javascript
// ุฅุถุงูุฉ ุฏุงูุฉ ุฌุฏูุฏุฉ ูู frontend/js/api.js
const PharmacyAPI = {
  // ุงูุฏูุงู ุงูููุฌูุฏุฉ...
  
  newFunction: async function(data) {
    // ููุทู ุงูุฏุงูุฉ ุงูุฌุฏูุฏุฉ
  }
};
```

## ุงูุฃูุงู

### ุฃูุถู ุงูููุงุฑุณุงุช
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ุญูุงูุฉ ูู XSS
- โ ุฅุฏุงุฑุฉ ุฌูุณุงุช ุขููุฉ
- โ ุชุณุฌูู ุงูุนูููุงุช

### ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
```javascript
// ูู Edge Functions
const validateInput = (data) => {
  // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
};

const sanitizeOutput = (data) => {
  // ุชูุธูู ุงูุจูุงูุงุช ุงููุฎุฑุฌุฉ
};
```

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูููุงุฑุฏ ุงููููุฏุฉ
- [Supabase Documentation](https://supabase.com/docs)
- [Bootstrap 5 Documentation](https://getbootstrap.com/docs/5.1/)
- [Font Awesome Icons](https://fontawesome.com/icons)

### ุงููุณุงููุฉ
1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ
3. ุฅุถุงูุฉ ุงูุชุญุณููุงุช
4. ุฅุฑุณุงู Pull Request

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT. ุฑุงุฌุน ููู LICENSE ููุชูุงุตูู.

---

## ููุงุญุธุงุช ุงูุชุญุฏูุซ

### ุงูุชุบููุฑุงุช ุงููููุฉ
- **ุชู ุชุญุฏูุซ ุฌููุน ูููุงุช JavaScript** ูุชุชูุงูู ูุน ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
- **ุชู ุฅุตูุงุญ Supabase Edge Functions** ูุฅุถุงูุฉ ุฏูุงู ูุณุงุนุฏุฉ ูุดุชุฑูุฉ
- **ุชู ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู** ุจุชุตููู ุญุฏูุซ ููุชุฌุงูุจ
- **ุชู ุฅุถุงูุฉ ูุธุงู ุงุฎุชุจุงุฑ ุดุงูู** ููุชุญูู ูู ุณูุงูุฉ ุงููุธุงู

### ุงููููุงุช ุงูุฌุฏูุฏุฉ
- `frontend/js/api.js` - API ููุญุฏ
- `supabase/functions/_shared/utils.ts` - ุฏูุงู ูุณุงุนุฏุฉ ูุดุชุฑูุฉ
- `database_schema.sql` - ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `test_platform.html` - ุตูุญุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ
- `README_UPDATED.md` - ูุฐุง ุงูููู

### ุงููููุงุช ุงููุญุฏุซุฉ
- ุฌููุน ูููุงุช JavaScript ูู `frontend/js/`
- ุฌููุน ูููุงุช HTML ูู `frontend/`
- ุฌููุน Edge Functions ูู `supabase/functions/`

ุชู ุงูุชุญุฏูุซ ุจุชุงุฑูุฎ: ุณุจุชูุจุฑ 2024
